- name: Check a user exists
  user:
    name: "{{ user }}"
    state: present
  check_mode: true
  register: r_state

######################################################
#                                                    #
# Common boiler plate logging logic - Do not modify  #
#                                                    #
######################################################

- when: r_state.changed
  name: Success or failure?
  set_fact:
    grader_test_failed: "FAILED"

- name: Log grader task result
  include_role:
    name: ftl_TEST_log_grade_to_log
  vars:
    grader_output_message: "{{ grader_test_failed + ', ' + \
    task_description_message +\
    ', (' + inventory_hostname + ')'  }}"

#- name: Create logging message fact
#  set_fact:
#    grader_output_message: "{{ inventory_hostname + ', '\
#    + task_description_message }}"
#  delegate_to: localhost
#
#- when: r_state.changed
#  name: Import logging tasks
#  import_role:
#    name: ftl_run_log_grade_to_log
...
