---
- name: "Check package {{ package }} installed"
  package:
    name: "{{ package }}"
    state: present
  check_mode: True
  register: r_state

######################################################
#                                                    #
# Common boiler plate logging logic - Do not modify  #
#                                                    #
######################################################

- when: r_state.changed
  name: Success or failure?
  set_fact:
    grader_test_failed: "FAILED"
    grader_output_message: "{{ grader_test_failed + ', ' + \
                            task_description_message +\
                            ', (' + inventory_hostname + ')'  }}"
  delegate_to: localhost

- name: Log grader task result
  import_role:
    name: ftl_TEST_log_grade_to_log
...
