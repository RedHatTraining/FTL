---
- name: "Check package {{ package }} installed"
  package:
    name: "{{ package }}"
    state: present
  check_mode: True
  register: r_state

######################################################
#                                                    #
# Common boiler plate logging logic - Do not modify  #
#                                                    #
######################################################

- when: r_state.changed
  name: Success or failure?
  set_fact:
    grader_test_failed: "FAILED"
  delegate_to: localhost

- name: Include grader tasks
  include_tasks: ../../common_tasks/grade_logging_logic.yml
...
