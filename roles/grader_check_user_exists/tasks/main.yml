- name: Check a user exists
  user:
    name: "{{ user }}"
    state: present
  check_mode: true
  register: r_state

######################################################
#                                                    #
# Common boiler plate logging logic - Do not modify  #
#                                                    #
######################################################

- name: Default to PASSED
  set_fact:
    f_grader_test_result: PASSED

- when: r_state.changed
  name: Test Failed
  set_fact:
    f_grader_test_result: FAILED

- name: Set message
  set_fact:
    f_grader_test_result: "{{ f_grader_test_result }}"
    f_task_description_message: "{{ task_description_message }}"
    f_inventory_hostname: "{{ inventory_hostname }}"
#    grader_output_message: "{{ grader_test_result + ', ' + \
#                               task_description_message + ', (' + \
#                               inventory_hostname + ')'  }}"
  delegate_to: localhost

- name: Log grader task result
  import_role:
    name: ftl_TEST_log_grade_to_log
...
